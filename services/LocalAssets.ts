
export const LOCAL_ASSET_MAP: Record<string, string> = {
  // UI & LOGHI
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/logo-main.webp": "assets/images/ui/logo-main.webp",
  "https://i.postimg.cc/tCZGcq9V/official.png": "assets/images/ui/official.webp",
  "https://i.postimg.cc/9M6v55V8/logsede.png": "assets/images/ui/home-icon.webp",
  "https://i.postimg.cc/SKdgjcXW/ghhhhost.png": "assets/images/ui/hero-boo-float.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/btn-city.webp": "assets/images/ui/btn-city.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/btn-house.webp": "assets/images/ui/btn-house.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/btn-concorso.webp": "assets/images/ui/btn-contest.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/btn-close.webp": "assets/images/ui/btn-close.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/header-title.webp": "assets/images/ui/header-title.webp",

  // PERSONAGGI (RIPRISTINATE CON AWS S3)
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/boo.webp": "assets/images/characters/profile/boo.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/andrea.webp": "assets/images/characters/profile/andrea.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/batbeat.webp": "assets/images/characters/profile/batbeat.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/flora.webp": "assets/images/characters/profile/flora.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/gaia.webp": "assets/images/characters/profile/gaia.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/grufo.webp": "assets/images/characters/profile/grufo.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/maragno.webp": "assets/images/characters/profile/maragno.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/marlo.webp": "assets/images/characters/profile/marlo.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/pumpkin.webp": "assets/images/characters/profile/pumpkin.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/raffa.webp": "assets/images/characters/profile/raffa.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/maragno-full.webp": "assets/images/characters/maragno/full.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/maragno-offended.webp": "assets/images/characters/maragno/offended.webp",

  // NAVIGAZIONE STANZE (RIPRISTINATE CON AWS S3)
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/btn-return-house.webp": "assets/images/ui/nav/nav-back-home.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/nav-to-living-sx.webp": "assets/images/ui/nav/nav-living-left.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/nav-to-bedroom-dx.webp": "assets/images/ui/nav/nav-bedroom-right.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/nav-to-kitchen-sx.webp": "assets/images/ui/nav/nav-kitchen-left.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/nav-to-bathroom-dx.webp": "assets/images/ui/nav/nav-bathroom-right.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/nav-to-garden-sx.webp": "assets/images/ui/nav/nav-garden-left.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/nav-to-living-dx.webp": "assets/images/ui/nav/nav-living-right.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/nav-to-kitchen-dx.webp": "assets/images/ui/nav/nav-kitchen-right.webp",

  // ICONE DI SISTEMA (RIPRISTINATE CON AWS S3)
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/icon-notif.webp": "assets/images/ui/icons/menu-notif.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/icon-info.webp": "assets/images/ui/icons/menu-info.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/icon-magic.webp": "assets/images/ui/icons/menu-magic.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/icon-parents.webp": "assets/images/ui/icons/menu-parents.webp",

  // SFONDI PRINCIPALI (RIPRISTINATI CON AWS S3)
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/home-mobile.webp": "assets/images/bg/home-mobile.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/home-desktop.webp": "assets/images/bg/home-desktop.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/city-map-desktop.webp": "assets/images/bg/city-map-desktop.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/city-map-mobile.webp": "assets/images/bg/city-map-mobile.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/house-map-mobile.webp": "assets/images/bg/house-map-mobile.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/house-map-desktop.webp": "assets/images/bg/house-map-desktop.webp",

  // SFONDI STANZE (RIPRISTINATI CON AWS S3)
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/kitchen-mobile.webp": "assets/images/bg/rooms/kitchen-mobile.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/kitchen-desktop.webp": "assets/images/bg/rooms/kitchen-desktop.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/living-mobile.webp": "assets/images/bg/rooms/living-mobile.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/living-desktop.webp": "assets/images/bg/rooms/living-desktop.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/bedroom-mobile.webp": "assets/images/bg/rooms/bedroom-mobile.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/bedroom-desktop.webp": "assets/images/bg/rooms/bedroom-desktop.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/bathroom-mobile.webp": "assets/images/bg/rooms/bathroom-mobile.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/bathroom-desktop.webp": "assets/images/bg/rooms/bathroom-desktop.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/garden.webp": "assets/images/bg/rooms/garden.webp",
  
  // SFONDI BAULE E GIOCHI (NUOVI AWS S3)
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/trunk-open-mobile.webp": "assets/images/bg/rooms/trunk-mobile.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/trunk-open-desktop.webp": "assets/images/bg/rooms/trunk-desktop.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/game-scratch-card.webp": "assets/images/bg/games/scratch-bg.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/game-slingshot-mobile.webp": "assets/images/bg/games/slingshot-mobile.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/game-slingshot-desktop.webp": "assets/images/bg/games/slingshot-desktop.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/game-goose.webp": "assets/images/bg/games/goose-bg.webp",

  // CACCIA ALLA FRUTTA (AWS S3)
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/fruit-bg.webp": "assets/images/bg/games/fruit-bg.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/boo-shooter.webp": "assets/images/characters/boo-shooter.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/fruit-hunt.webp": "assets/images/ui/titles/fruit-title.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/startfruit.webp": "assets/images/ui/buttons/fruit-start.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/fruit-retry.webp": "assets/images/ui/buttons/fruit-retry.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/fruit-go-barn.webp": "assets/images/ui/buttons/fruit-go-barn.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/fruit-win.webp": "assets/images/ui/feedback/fruit-win.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/fruit-next.webp": "assets/images/ui/buttons/fruit-next.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/barn-header.webp": "assets/images/ui/headers/barn-header.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/btn-sell-all.webp": "assets/images/ui/buttons/btn-sell-all.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/up-speed.webp": "assets/images/ui/icons/up-speed.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/up-power.webp": "assets/images/ui/icons/up-power.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/up-magnet.webp": "assets/images/ui/icons/up-magnet.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/up-shield.webp": "assets/images/ui/icons/up-shield.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/gameover-fruit.webp": "assets/images/ui/feedback/fruit-lost.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/yesnoi.webp": "assets/images/ui/feedback/parents-lock.webp",

  // RICICLO MAGICO (AWS S3)
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/recycle.webp": "assets/images/ui/titles/recycle-title.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/trashpaper.webp": "assets/images/ui/games/trash-paper.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/trashplastic.webp": "assets/images/ui/games/trash-plastic.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/trashglass.webp": "assets/images/ui/games/trash-glass.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/trashorganic.webp": "assets/images/ui/games/trash-organic.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/cartascr.webp": "assets/images/ui/buttons/btn-trash-paper.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/plastcscr.webp": "assets/images/ui/buttons/btn-trash-plastic.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/vetrscr.webp": "assets/images/ui/buttons/btn-trash-glass.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/orgscr.webp": "assets/images/ui/buttons/btn-trash-organic.webp",

  // TORRE MAGICA (AWS S3)
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/tower-mobile.webp": "assets/images/bg/tower-mobile.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/tower-desktop.webp": "assets/images/bg/tower-desktop.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/nuvoletorremagic.webp": "assets/images/ui/bubbles/tower-bubble.webp",

  // PARCO GIOCHI (AWS S3)
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/park-mobile.webp": "assets/images/bg/park-mobile.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/park-desktop.webp": "assets/images/bg/park-desktop.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/nuvoleparco.webp": "assets/images/ui/bubbles/park-bubble.webp",

  // BIBLIOTECA & LIBRERIA (AWS S3)
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/library.webp": "assets/images/bg/library.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/bookshelf-view.webp": "assets/images/bg/bookshelf-view.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/nuvolabiblio.webp": "assets/images/ui/bubbles/library-bubble.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/nuvolelibre.webp": "assets/images/ui/bubbles/bookshop-bubble.webp",

  // BOSCO FIABE (AWS S3)
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/tales-mobile.webp": "assets/images/bg/tales-mobile.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/tales-desktop.webp": "assets/images/bg/tales-desktop.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/nuvolabosco.webp": "assets/images/ui/bubbles/tales-bubble.webp",

  // STAZIONE (AWS S3)
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/station-mobile.webp": "assets/images/bg/station-mobile.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/station-desktop.webp": "assets/images/bg/station-desktop.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/btn-station-back.webp": "assets/images/ui/buttons/btn-station-back.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/btn-station-depart.webp": "assets/images/ui/buttons/btn-station-depart.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/stazz+(1).webp": "assets/images/ui/bubbles/station-bubble.webp",

  // INFO POINT (AWS S3)
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/info-point.webp": "assets/images/bg/rooms/info-point.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/nuvolapont.webp": "assets/images/ui/bubbles/infopoint-bubble.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/marlo-taxi.webp": "assets/images/ui/vehicles/marlo-taxi.webp",

  // MUSEO (AWS S3)
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/museum-mobile.webp": "assets/images/bg/museum-mobile.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/museum-desktop.webp": "assets/images/bg/museum-desktop.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/nuvolamuseo.webp": "assets/images/ui/bubbles/museum-bubble.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/btn-museum-back.webp": "assets/images/ui/buttons/btn-museum-back.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/btn-museum-gallery.webp": "assets/images/ui/buttons/btn-museum-gallery.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/btn-museum-send.webp": "assets/images/ui/buttons/btn-museum-send.webp",

  // PIAZZA (AWS S3)
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/piazza-mobile.webp": "assets/images/bg/piazza-mobile.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/piazza-desktop.webp": "assets/images/bg/piazza-desktop.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/nuvolapiazza.webp": "assets/images/ui/bubbles/piazza-bubble.webp",

  // ACCADEMIA (AWS S3)
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/academy-mobile.webp": "assets/images/bg/academy-mobile.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/nuvoleaccade.webp": "assets/images/ui/bubbles/academy-bubble.webp",

  // DISCO (AWS S3)
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/disco-mobile.webp": "assets/images/bg/disco-mobile.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/disco-desktop.webp": "assets/images/bg/disco-desktop.webp",
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/nuvladisco.webp": "assets/images/ui/bubbles/disco-bubble.webp",

  // CINEMA (AWS S3)
  "https://loneboo-images.s3.eu-south-1.amazonaws.com/nuvolecinema.webp": "assets/images/ui/bubbles/cinema-bubble.webp"
};

export const getAsset = (url: string): string => {
  if (!url) return "";
  
  // Se è già un percorso locale, non fare nulla
  if (url.startsWith('assets/') || url.startsWith('/assets/')) return url;

  try {
      const forceRemote = localStorage.getItem('force_remote_assets') === 'true';
      if (forceRemote) return url;
  } catch (e) {}

  if (!LOCAL_ASSET_MAP) return url;
  return LOCAL_ASSET_MAP[url] || url;
};
